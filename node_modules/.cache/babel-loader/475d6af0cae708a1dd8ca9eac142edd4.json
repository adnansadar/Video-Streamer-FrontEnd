{"ast":null,"code":"import _regeneratorRuntime from\"/home/adnan/Documents/Video-Streaming-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/adnan/Documents/Video-Streaming-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/adnan/Documents/Video-Streaming-App/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import streams from\"../apis/streams\";import{SIGN_IN,SIGN_OUT,CREATE_STREAM,FETCH_STREAMS,FETCH_STREAM,DELETE_STREAM,EDIT_STREAM}from\"../actions/types\";import history from\"../history\";export var signIn=function signIn(userId){return{type:SIGN_IN,payload:userId};};export var signOut=function signOut(){return{type:SIGN_OUT};};export var createStream=function createStream(formValues){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var userId,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userId=getState().auth.userId;_context.next=3;return streams.post(\"/streams\",_objectSpread(_objectSpread({},formValues),{},{userId:userId}));case 3:response=_context.sent;// adding the user id to formvalues to show delete/edit buttons to only logged in users\ndispatch({type:CREATE_STREAM,payload:response.data});history.push(\"/\");// forcibly navigating the user to homepage after creating the form\ncase 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var fetchStreams=function fetchStreams(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return streams.get(\"/streams\");case 2:response=_context2.sent;dispatch({type:FETCH_STREAMS,payload:response.data});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3){return _ref2.apply(this,arguments);};}();};export var fetchStream=function fetchStream(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return streams.get(\"/streams/\".concat(id));case 2:response=_context3.sent;dispatch({type:FETCH_STREAM,payload:response.data});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref3.apply(this,arguments);};}();};export var editStream=function editStream(id,formValues){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return streams.patch(\"/streams/\".concat(id),formValues);case 2:response=_context4.sent;dispatch({type:EDIT_STREAM,payload:response.data});history.push(\"/\");case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref4.apply(this,arguments);};}();};export var deleteStream=function deleteStream(id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return streams.delete(\"/streams/\".concat(id));case 2:dispatch({type:DELETE_STREAM,payload:id});history.push(\"/\");case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x6){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/adnan/Documents/Video-Streaming-App/client/src/actions/index.js"],"names":["streams","SIGN_IN","SIGN_OUT","CREATE_STREAM","FETCH_STREAMS","FETCH_STREAM","DELETE_STREAM","EDIT_STREAM","history","signIn","userId","type","payload","signOut","createStream","formValues","dispatch","getState","auth","post","response","data","push","fetchStreams","get","fetchStream","id","editStream","patch","deleteStream","delete"],"mappings":"ifAAA,MAAOA,CAAAA,OAAP,KAAoB,iBAApB,CACA,OACEC,OADF,CAEEC,QAFF,CAGEC,aAHF,CAIEC,aAJF,CAKEC,YALF,CAMEC,aANF,CAOEC,WAPF,KAQO,kBARP,CASA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,MAAD,CAAY,CAChC,MAAO,CACLC,IAAI,CAAEV,OADD,CAELW,OAAO,CAAEF,MAFJ,CAAP,CAID,CALM,CAOP,MAAO,IAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAC3B,MAAO,CACLF,IAAI,CAAET,QADD,CAAP,CAGD,CAJM,CAMP,MAAO,IAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,UAAD,iGAAgB,iBAAOC,QAAP,CAAiBC,QAAjB,sIAClCP,MADkC,CACvBO,QAAQ,GAAGC,IADY,CAClCR,MADkC,uBAEnBV,CAAAA,OAAO,CAACmB,IAAR,CAAa,UAAb,gCAA8BJ,UAA9B,MAA0CL,MAAM,CAANA,MAA1C,GAFmB,QAEpCU,QAFoC,eAG1C;AACAJ,QAAQ,CAAC,CAAEL,IAAI,CAAER,aAAR,CAAuBS,OAAO,CAAEQ,QAAQ,CAACC,IAAzC,CAAD,CAAR,CACAb,OAAO,CAACc,IAAR,CAAa,GAAb,EACA;AAN0C,sDAAhB,oEAArB,CASP,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,mGAAM,kBAAOP,QAAP,0JACThB,CAAAA,OAAO,CAACwB,GAAR,CAAY,UAAZ,CADS,QAC1BJ,QAD0B,gBAEhCJ,QAAQ,CAAC,CAAEL,IAAI,CAAEP,aAAR,CAAuBQ,OAAO,CAAEQ,QAAQ,CAACC,IAAzC,CAAD,CAAR,CAFgC,wDAAN,kEAArB,CAKP,MAAO,IAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,kGAAQ,kBAAOV,QAAP,0JACVhB,CAAAA,OAAO,CAACwB,GAAR,oBAAwBE,EAAxB,EADU,QAC3BN,QAD2B,gBAEjCJ,QAAQ,CAAC,CAAEL,IAAI,CAAEN,YAAR,CAAsBO,OAAO,CAAEQ,QAAQ,CAACC,IAAxC,CAAD,CAAR,CAFiC,wDAAR,kEAApB,CAKP,MAAO,IAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACD,EAAD,CAAKX,UAAL,kGAAoB,kBAAOC,QAAP,0JACrBhB,CAAAA,OAAO,CAAC4B,KAAR,oBAA0BF,EAA1B,EAAgCX,UAAhC,CADqB,QACtCK,QADsC,gBAE5CJ,QAAQ,CAAC,CAAEL,IAAI,CAAEJ,WAAR,CAAqBK,OAAO,CAAEQ,QAAQ,CAACC,IAAvC,CAAD,CAAR,CACAb,OAAO,CAACc,IAAR,CAAa,GAAb,EAH4C,wDAApB,kEAAnB,CAMP,MAAO,IAAMO,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACH,EAAD,kGAAQ,kBAAOV,QAAP,6IAC5BhB,CAAAA,OAAO,CAAC8B,MAAR,oBAA2BJ,EAA3B,EAD4B,QAElCV,QAAQ,CAAC,CAAEL,IAAI,CAAEL,aAAR,CAAuBM,OAAO,CAAEc,EAAhC,CAAD,CAAR,CACAlB,OAAO,CAACc,IAAR,CAAa,GAAb,EAHkC,wDAAR,kEAArB","sourcesContent":["import streams from \"../apis/streams\";\nimport {\n  SIGN_IN,\n  SIGN_OUT,\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM,\n} from \"../actions/types\";\nimport history from \"../history\";\n\nexport const signIn = (userId) => {\n  return {\n    type: SIGN_IN,\n    payload: userId,\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT,\n  };\n};\n\nexport const createStream = (formValues) => async (dispatch, getState) => {\n  const { userId } = getState().auth;\n  const response = await streams.post(\"/streams\", { ...formValues, userId });\n  // adding the user id to formvalues to show delete/edit buttons to only logged in users\n  dispatch({ type: CREATE_STREAM, payload: response.data });\n  history.push(\"/\");\n  // forcibly navigating the user to homepage after creating the form\n};\n\nexport const fetchStreams = () => async (dispatch) => {\n  const response = await streams.get(\"/streams\");\n  dispatch({ type: FETCH_STREAMS, payload: response.data });\n};\n\nexport const fetchStream = (id) => async (dispatch) => {\n  const response = await streams.get(`/streams/${id}`);\n  dispatch({ type: FETCH_STREAM, payload: response.data });\n};\n\nexport const editStream = (id, formValues) => async (dispatch) => {\n  const response = await streams.patch(`/streams/${id}`, formValues);\n  dispatch({ type: EDIT_STREAM, payload: response.data });\n  history.push(\"/\");\n};\n\nexport const deleteStream = (id) => async (dispatch) => {\n  await streams.delete(`/streams/${id}`);\n  dispatch({ type: DELETE_STREAM, payload: id });\n  history.push(\"/\");\n};\n"]},"metadata":{},"sourceType":"module"}